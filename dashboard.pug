html
  head
    meta(charset='utf-8', name='viewport', content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0')
    title 0sprey: Home
    link(rel='stylesheet', type='text/css', href='/css/style.css')
    link(rel='stylesheet', href='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css', integrity='sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T', crossorigin='anonymous')
    script(src='/javascript/0.js')
    script(src='https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js')
    script(src='/socket.io/socket.io.js')
    script(src='/siofu/client.js')
    script(src='https://unpkg.com/react@16/umd/react.development.js', crossorigin='')
    script(src='https://unpkg.com/react-dom@16/umd/react-dom.development.js', crossorigin='')
    script(src='/javascript/x.js')
    script.
      var active=null;
      document.addEventListener("DOMContentLoaded", async()=>{
      var socket=io.connect();var uploader=new SocketIOFileUpload(socket);uploader.listenOnInput(document.getElementById("siofu_input"));socket.emit('x',"#{x}");
      socket.on('response',a=>{var b=JSON.parse(a);if(b.initial_render === false){$('#r').html(b.content+r.innerHTML);}else{loading.style.display='none';$('#r').html(r.innerHTML+b.content);}});
      socket.on('upload_response',a=>{socket.emit('x',"#{x}");});
      }, false);
      function drop_menu(id){if(active!==null){document.getElementById(active+"_drop").style.display='none'}active=id;document.getElementById(id+"_drop").style.display='block';}
      function e(){if(document.getElementById(active+"_drop")!== null){document.getElementById(active+"_drop").style.display='none';}active=null}
body
  #main.main_
    #nav.topNav(onclick='e()')
      .hitBox(onclick='x()')
      label.title3 Home
      #m1.m1a
      #m2.m2a
      - if (typeof(username) !== 'undefined'){
      form(action='/profile', method='post', name='profile')
      label#username.unh(name='username', onclick='profile.submit()')=username
      -}
    #menu.menu
      center
        #hr1.separator
        #hr2.separator
        label#msg.messages(onclick='messages()') Messages
        label#stn.settings(onclick='settings()') Settings
        button#sob.so(onclick='signOut()') Sign Out
        form(action='/logout', method='post')
          input#signOut.stealth(type='submit')
        form(action='/messages', method='post')
          input#messages.stealth(type='submit')
        form(action='/settings', method='post')
          input#settings.stealth(type='submit')
    center
      .content_standard(onclick='y()')
        center
          input#siofu_input.home_file(type='file')
          div.upload_post_mask
            div.mask_plus_a
            div.mask_plus_b
          #r.img_container
            img#loading(src='svg/loading-blocks.svg')
